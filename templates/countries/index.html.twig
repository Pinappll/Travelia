{% extends 'base.html.twig' %}

{% block title %}Liste des pays{% endblock %}

{% block body %}
    <div class="p-6 bg-white shadow-md rounded-lg">
        <h1 class="text-2xl font-bold text-blue-950 mb-6">Liste des pays</h1>
        <!-- Bouton pour créer un nouveau pays -->
        <div class="mt-6">
            <a href="{{ path('app_countries_new') }}"
               class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-500 transition">
                Créer un nouveau pays
            </a>
        </div>
        <br>
        <table class="w-full border-collapse border border-gray-200">
            <thead class="bg-gray-100">
            <tr>
                <th class="text-left px-4 py-2 font-semibold text-gray-700">Id</th>
                <th class="text-left px-4 py-2 font-semibold text-gray-700">Nom</th>
                <th class="text-left px-4 py-2 font-semibold text-gray-700">Code</th>
                <th class="text-left px-4 py-2 font-semibold text-gray-700">Image</th>
                <th class="text-left px-4 py-2 font-semibold text-gray-700">Actions</th>
            </tr>
            </thead>
            <tbody>
            {% for country in countries %}
                <tr class="border-b">
                    <td class="px-4 py-2 text-gray-700">{{ country.id }}</td>
                    <td class="px-4 py-2 text-gray-700">{{ country.name }}</td>
                    <td class="px-4 py-2 text-gray-700">{{ country.code }}</td>
                    <td class="px-4 py-2">
                        <img
                                src="{{ country.image }}"
                                alt="{{ country.name }}"
                                class="w-16 h-16 object-cover rounded-lg shadow-sm"
                        >
                    </td>
                    <td class="px-4 py-2">
                        <a href="{{ path('app_countries_show', {'id': country.id}) }}"
                           class="text-blue-600 hover:underline mr-2">
                            Voir
                        </a>
                        <a href="{{ path('app_countries_edit', {'id': country.id}) }}"
                           class="text-green-600 hover:underline">
                            Modifier
                        </a>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="5" class="px-4 py-2 text-center text-gray-700">
                        Aucun pays trouvé.
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>

        <!-- Pagination -->
        <div class="flex justify-center mt-6">
            <nav class="inline-flex space-x-2">
                {{ knp_pagination_render(countries) }}
            </nav>
        </div>
    </div>
{% endblock %}
